{"kind":"Notebook","sha256":"a7125167b1af78f37a653a590bf082aced699d025383c45b52be0d431e405028","slug":"notebook","dependencies":[],"frontmatter":{"title":"Linking Interactive Notebooks","subtitle":"Evolve markdown documents and notebooks into structured data","authors":[{"name":"Rowan Cockett","orcid":"0000-0002-7859-8394","email":"rowan@curvenote.com","affiliations":["Executable Books","Curvenote"],"corresponding":true}],"date":"2023/01/23","license":{"code":{"id":"MIT","name":"MIT License","osi":true,"free":true,"url":"https://opensource.org/licenses/MIT"}},"github":"https://github.com/executablebooks/mystjs-quickstart","keywords":[],"exports":[{"format":"ipynb","filename":"02-notebook.ipynb","url":"/myst-test/build/02-notebook-f0dafe78914cfc97575c228d9890a023.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":13,"column":0},"end":{"line":15,"column":0}},"children":[{"type":"text","value":"MyST allows you to directly include Jupyter Notebooks in your books, documents and websites.\nThis Jupyter Notebook can be rendered directly using MyST.","key":"su5dqPktwk"}],"key":"nUm3tcKpz4"},{"type":"paragraph","position":{"start":{"line":16,"column":0},"end":{"line":17,"column":0}},"children":[{"type":"text","value":"For example, let us import ","key":"gUgFgoaEQv"},{"type":"inlineCode","value":"altair","key":"uljJGyE4rm"},{"type":"text","value":" and create a demo of an interactive plot!","key":"rFfqXjgAcD"}],"key":"SUukcJFGSy"}],"key":"bO2Qh5OANw"},{"type":"block","position":{"start":{"line":18,"column":0},"end":{"line":19,"column":0}},"children":[{"type":"code","lang":"python","executable":true,"value":"import altair as alt\nfrom vega_datasets import data\n\nsource = data.cars()\nbrush = alt.selection_interval(encodings=['x'])\npoints = alt.Chart(source).mark_point().encode(\n    x='Horsepower:Q',\n    y='Miles_per_Gallon:Q',\n    size='Acceleration',\n    color=alt.condition(brush, 'Origin:N', alt.value('lightgray'))\n).add_selection(brush)\n\nbars = alt.Chart(source).mark_bar().encode(\n    y='Origin:N',\n    color='Origin:N',\n    x='count(Origin):Q'\n).transform_filter(brush)","identifier":"nb-cell-1-fd6924eb89-code","enumerator":"1","html_id":"nb-cell-1-fd6924eb89-code","key":"zG72GvBOjU"},{"type":"output","id":"57Gs6EX7_eSfHYaWHjA3e","data":[],"identifier":"nb-cell-1-fd6924eb89-output","html_id":"nb-cell-1-fd6924eb89-output","key":"p8RsvdX7lH"}],"data":{"id":"nb-cell-1-fd6924eb89","type":"notebook-code"},"identifier":"nb-cell-1-fd6924eb89","label":"nb-cell-1-fd6924eb89","html_id":"nb-cell-1-fd6924eb89","key":"QzcpVP23yi"},{"type":"block","position":{"start":{"line":44,"column":0},"end":{"line":45,"column":0}},"children":[{"type":"paragraph","position":{"start":{"line":46,"column":0},"end":{"line":47,"column":0}},"children":[{"type":"text","value":"We can now plot the altair example, which is fully interactive, try dragging in the plot to select cars by their horsepower.","key":"qv5SjlISih"}],"key":"DRTHb6sxby"}],"data":{"id":"nb-cell-2-70ef8b760c","type":"notebook-content"},"identifier":"nb-cell-2-70ef8b760c","label":"nb-cell-2-70ef8b760c","html_id":"nb-cell-2-70ef8b760c","key":"GqeCkxcV5c"},{"type":"block","position":{"start":{"line":48,"column":0},"end":{"line":49,"column":0}},"children":[{"type":"code","lang":"python","executable":true,"value":"points & bars","identifier":"horsepower-code","enumerator":"2","html_id":"horsepower-code","key":"NPqC4McokO"},{"type":"output","id":"ru4WkZNi1Lhyo2sx24CnO","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"5f0ed71e44f5315dea7c7cbda2fb25ce","path":"/myst-test/build/5f0ed71e44f5315dea7c7cbda2fb25ce.html"},"text/plain":{"content":"alt.VConcatChart(...)","content_type":"text/plain"}}}],"identifier":"horsepower-output","html_id":"horsepower-output","key":"CQdupjPi3M"}],"data":{"id":"nb-cell-3-cfb7a389a0","type":"notebook-code"},"identifier":"horsepower","label":"horsepower","html_id":"horsepower","key":"DuGL5ihbea"},{"type":"block","position":{"start":{"line":59,"column":0},"end":{"line":60,"column":0}},"children":[{"type":"code","lang":"python","executable":true,"value":"# https://matplotlib.org/stable/gallery/statistics/time_series_histogram.html#sphx-glr-gallery-statistics-time-series-histogram-py\nfrom copy import copy\n\nimport numpy as np\nimport numpy.matlib\nimport matplotlib.pyplot as plt\nfrom matplotlib.colors import LogNorm","identifier":"nb-cell-4-b39d28dd28-code","enumerator":"3","html_id":"nb-cell-4-b39d28dd28-code","key":"YFWhOPFyG5"},{"type":"output","id":"TWWQBiXLWALkKI-HHMAPb","data":[],"identifier":"nb-cell-4-b39d28dd28-output","html_id":"nb-cell-4-b39d28dd28-output","key":"l2ISAw542K"}],"data":{"id":"nb-cell-4-b39d28dd28","type":"notebook-code"},"identifier":"nb-cell-4-b39d28dd28","label":"nb-cell-4-b39d28dd28","html_id":"nb-cell-4-b39d28dd28","key":"i48VgDrC1f"},{"type":"block","position":{"start":{"line":75,"column":0},"end":{"line":76,"column":0}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Make some data; a 1D random walk + small fraction of sine waves\nnum_series = 1000\nnum_points = 100\nSNR = 0.10  # Signal to Noise Ratio\nx = np.linspace(0, 4 * np.pi, num_points)\n# Generate unbiased Gaussian random walks\nY = np.cumsum(np.random.randn(num_series, num_points), axis=-1)\n# Generate sinusoidal signals\nnum_signal = int(round(SNR * num_series))\nphi = (np.pi / 8) * np.random.randn(num_signal, 1)  # small random offset\nY[-num_signal:] = (\n    np.sqrt(np.arange(num_points))[None, :]  # random walk RMS scaling factor\n    * (np.sin(x[None, :] - phi)\n       + 0.05 * np.random.randn(num_signal, num_points))  # small random noise\n)\n\n\n# Now we will convert the multiple time series into a histogram. Not only will\n# the hidden signal be more visible, but it is also a much quicker procedure.\n# Linearly interpolate between the points in each time series\nnum_fine = 800\nx_fine = np.linspace(x.min(), x.max(), num_fine)\ny_fine = np.empty((num_series, num_fine), dtype=float)\nfor i in range(num_series):\n    y_fine[i, :] = np.interp(x_fine, x, Y[i, :])\ny_fine = y_fine.flatten()\nx_fine = np.matlib.repmat(x_fine, num_series, 1).flatten()","identifier":"nb-cell-5-a091268720-code","enumerator":"4","html_id":"nb-cell-5-a091268720-code","key":"Q2F9gRHUFn"},{"type":"output","id":"XUtPrNqPApU6pWKTHb4fd","data":[],"identifier":"nb-cell-5-a091268720-output","html_id":"nb-cell-5-a091268720-output","key":"N4L3neWnsX"}],"data":{"id":"nb-cell-5-a091268720","type":"notebook-code"},"identifier":"nb-cell-5-a091268720","label":"nb-cell-5-a091268720","html_id":"nb-cell-5-a091268720","key":"GokAb1GTFM"},{"type":"block","position":{"start":{"line":111,"column":0},"end":{"line":112,"column":0}},"children":[{"type":"paragraph","position":{"start":{"line":113,"column":0},"end":{"line":115,"column":0}},"children":[{"type":"text","value":"Important!\nThis data is simulated, and may just be random noise! ðŸ”Š","key":"ufKBZvf9mR"}],"key":"w2ZbvpmzVK"}],"data":{"id":"nb-cell-6-20ef16f575","type":"notebook-content"},"identifier":"nb-cell-6-20ef16f575","label":"nb-cell-6-20ef16f575","html_id":"nb-cell-6-20ef16f575","key":"wJlDTh6Q1C"},{"type":"block","position":{"start":{"line":116,"column":0},"end":{"line":117,"column":0}},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axes = plt.subplots(figsize=(8, 4), constrained_layout=True)\ncmap = copy(plt.cm.plasma)\ncmap.set_bad(cmap(0))\nh, xedges, yedges = np.histogram2d(x_fine, y_fine, bins=[400, 100])\npcm = axes.pcolormesh(xedges, yedges, h.T, cmap=cmap,\n                         norm=LogNorm(vmax=1.5e2), rasterized=True)\nfig.colorbar(pcm, ax=axes, label=\"# points\", pad=0)\naxes.set_title(\"2d histogram and log color scale\");","identifier":"plasma-code","enumerator":"5","html_id":"plasma-code","key":"unH70mvAJJ"},{"type":"output","id":"D6qvXlGCoqFJzwjO--iLZ","data":[{"output_type":"display_data","metadata":{"needs_background":"light"},"data":{"image/png":{"content_type":"image/png","hash":"7117d0905b8901689b9758271e532eb2","path":"/myst-test/build/7117d0905b8901689b9758271e532eb2.png"},"text/plain":{"content":"<Figure size 576x288 with 2 Axes>","content_type":"text/plain"}}}],"identifier":"plasma-output","html_id":"plasma-output","key":"QcVvi9JPQr"}],"data":{"id":"nb-cell-7-54ee8e916e","type":"notebook-code"},"identifier":"plasma","label":"plasma","html_id":"plasma","key":"DMzLfU4T5D"}],"key":"EbNYQCiN76"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"How to MyST, without being mystified ðŸ§™","url":"/myst/paper","group":"myst-test"}}},"domain":"http://localhost:3000","project":"myst"}